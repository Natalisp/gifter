<% if current_user.id == @user.id || current_user.friendships.include?(Friendship.find_by(friend_id: @user.id, user_id: current_user.id)) %>
 <h3><%= @user.first_name if current_user.id != @user.id && @user.first_name %> <%= "Your" if current_user.id == @user.id %> Wishlists:</h3>

 <h4><%= "User doesn't have any wishlists yet" if @user.wishlists.size == 0 %></h4>
      <br>
        <% @wishlists.each do |wl| %>
        <div class="wishlist-item">
        <h4> <%= link_to wl.name, user_wishlist_path(@user, wl) %><br></h4>
        </div>
        <%= link_to "Edit", edit_user_wishlist_path(@user, wl),  method: :get if current_user.id == wl.user.id %>
        <br>
      <% end %>
    <% else %>
      <h4>You are not friends with the user yet...</h4>
      <h4>Only friends can see user's wishlists</h4>
       <%= link_to 'Become Friends', friendships_path(:friend_id => @user.id), :method => :post %>
  <% end %>
