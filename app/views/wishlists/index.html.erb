

   <% if current_user.id == @user.id || current_user.friendships.include?(Friendship.find_by(friend_id: @user.id, user_id: current_user.id)) %>
     <h4><%= @user.first_name if current_user.id != @user.id && @user.first_name %> <%= "Your" if current_user.id == @user.id %> wishlists:</h4>

     <h4><%= "User doesn't have any wishlists yet" if @user.wishlists.size == 0 %></h4>
          <br>
         <% @wishlists.each.with_index(1) do |wl, i| %>
           <%= i %>. <%= link_to wl.name, user_wishlist_path(@user, wl) %><br>
         <%= button_to "Edit", edit_user_wishlist_path(@user, wl),  method: :get,class: "btn btn-primary" if current_user.id == wl.user.id %>
         <%= button_to 'Delete', user_wishlist_path(@user, wl), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-primary" if current_user.id == wl.user.id  %>
         <br>
         <% end %>
    <% else %>
        <h4>You are not friends with the user yet...</h4>
         <h4>Only friends can see user's wishlists</h4>
         <%= link_to 'Become Friends', friendships_path(:friend_id => @user.id), :method => :post %>
    <% end %>
